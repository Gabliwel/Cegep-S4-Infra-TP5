image: demers/python420w4a

variables:
  INFRA_TP5_DB_TYPE: "SQLite"

stages:
  - test

utests:
  stage: test
  script:
    - pip3 install -r requirements.txt
    - python3 -m unittest discover -s project -v -p test_*.py

dtests:
  stage: test
  script:
    - pip3 install -r requirements.txt
    - ./run.sh ./project/myCode/SQLiteDB.py &
    - ./run.sh ./project/myAPI/api.py &
    - python3 -m unittest discover -s project -v -p dtest_*.py
